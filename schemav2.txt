---

# 🗃️ Skema Relasional Basis Data Sistem E-Commerce (Final Version)

---

## Tabel Inti

pengguna(email, kata_sandi, nama_panjang, no_telp, tgl_lahir, foto_profil, is_pembeli, is_penjual)
pembeli(email, alamat_utama_id)
penjual(email, foto_ktp, foto_diri, is_verified)



### Relasi Sosial

friend(email, email_following)



### Alamat

alamat(alamat_id, provinsi, kota, jalan)
alamat_alternatif(email, alamat_id)



### Produk & Penjualannya

produk(no_produk, nama_produk, deskripsi, email_penjual)
gambar_produk(no_produk, gambar)
tag_produk(no_produk, tag)
varian(no_produk, sku, nama_varian, stok, harga)



### Keranjang & Wishlist

keranjang(keranjang_id, email_pembeli)
wishlist(wishlist_id, email_pembeli)
rincian_keranjang(keranjang_id, no_produk, sku, jumlah)
rincian_wishlist(wishlist_id, no_produk)



### Pesanan & Ulasan

pesanan(no_pesanan, status_pesanan, harga_total, metode_bayar, catatan, waktu_pesan, metode_kirim, email_pembeli, alamat_id, email_penjual)
rincian_pesanan(no_pesanan, no_produk, sku, jumlah)
ulasan(email_pembeli, no_pesanan, ulasan_id, konten, nilai)



---

## 🔑 Primary Key

pengguna(email)
pembeli(email)
penjual(email)
alamat(alamat_id)
produk(no_produk)
varian(no_produk, sku)
keranjang(keranjang_id)
wishlist(wishlist_id)
pesanan(no_pesanan)
rincian_pesanan(no_pesanan, no_produk, sku)
ulasan(email_pembeli, no_pesanan, ulasan_id)



---

## 🔗 Foreign Key

### Sosial

friend.email → pengguna.email
friend.email_following → pengguna.email



### **Relasi Pembeli & Penjual

pembeli.email → pengguna.email
pembeli.alamat_utama_id → alamat.alamat_id

penjual.email → pengguna.email



### Alamat Alternatif

alamat_alternatif.email → pembeli.email
alamat_alternatif.alamat_id → alamat.alamat_id



### Produk & Variannya

produk.email_penjual → penjual.email
gambar_produk.no_produk → produk.no_produk
tag_produk.no_produk → produk.no_produk

varian.no_produk → produk.no_produk



### Keranjang & Wishlist

keranjang.email_pembeli → pembeli.email
wishlist.email_pembeli → pembeli.email

rincian_keranjang.keranjang_id → keranjang.keranjang_id
rincian_keranjang.(no_produk, sku) → varian(no_produk, sku)

rincian_wishlist.wishlist_id → wishlist.wishlist_id
rincian_wishlist.no_produk → produk.no_produk



### Pesanan

pesanan.email_pembeli → pembeli.email
pesanan.email_penjual → penjual.email
pesanan.alamat_id → alamat.alamat_id



### Rincian & Ulasan

rincian_pesanan.(no_produk, sku) → varian(no_produk, sku)
rincian_pesanan.no_pesanan → pesanan.no_pesanan

ulasan.email_pembeli → pembeli.email
ulasan.no_pesanan → pesanan.no_pesanan